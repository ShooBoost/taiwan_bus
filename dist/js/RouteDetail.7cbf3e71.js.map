{"version":3,"sources":["webpack:///./src/views/RouteDetail.vue","webpack:///./src/views/RouteDetail.vue?a70c","webpack:///./src/views/RouteDetail.vue?5c45"],"names":["class","href","stopsOfTheRoute","RouteName","Zh_tw","DepartureStopNameZh","DestinationStopNameZh","Stops","stop","i","key","Direction","StopSequence","EstimateTime","StopName","busDeparture","bus","k","PlateNumb","VehicleType","busArrival","mapId","lat","lon","data","routes","routesByKeywords","cityOfRoute","routeName","vehicleOfTaiwan","cityList","vechile","components","Map","mixins","getTdxData","methods","consoleLogHaHa","e","console","log","target","value","filterVehicleByKeywords","plateNumb","this","find","filterRouteByKeywords","_this","reg","RegExp","forEach","route","test","push","setRouteCityAndNameForGetStops","RouteUID","sortRealTimeNearStopAndEstimatedTimeByStopsOfTheRoute","created","getCityList","getRoutesOfTaiwan","getVehicleOfTaiwan","$route","query","City","__exports__","render"],"mappings":"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","file":"js/RouteDetail.7cbf3e71.js","sourcesContent":["<template>\n  <div class=\"flex w100 h100\">\n    <section><!-- <a\n          :href=\"\n            '/RouteDetail?City=' +\n            item.City +\n            '&RouteName=' +\n            item.RouteName.Zh_tw +\n            '&RouteUID=' +\n            item.RouteUID +\n            '&DepartureStopNameZh=' +\n            item.DepartureStopNameZh +\n            '&DestinationStopNameZh=' +\n            item.DestinationStopNameZh\n          \"\n          \n        ></a> --></section>\n    <section class=\"w30 overflow-scroll\">\n      <div v-if=\"stopsOfTheRoute[0]\">\n        <h3>stopsOfTheRoute {{ stopsOfTheRoute[0].RouteName.Zh_tw }}</h3>\n        <ul>\n          <li>\n            <a href=\"#\">{{ stopsOfTheRoute.DepartureStopNameZh }}</a>\n          </li>\n          <li>\n            <a href=\"#\">{{ stopsOfTheRoute.DestinationStopNameZh }}</a>\n          </li>\n        </ul>\n        <ul>\n          <li v-for=\"(stop, i) in stopsOfTheRoute[0].Stops\" :key=\"i\">\n            {{ stop.Direction }}\n            {{ stop.StopSequence }}\n            {{ stop.EstimateTime }}\n            {{ stop.StopName.Zh_tw }}\n            <b v-if=\"stop.busDeparture\"\n              >離站中\n              <ul>\n                <li v-for=\"(bus, k) in stop.busDeparture\" :key=\"k\">\n                  {{ bus.PlateNumb }}{{ bus.VehicleType }}\n                </li>\n              </ul>\n            </b>\n            <b v-if=\"stop.busArrival\"\n              >進站中\n              <ul>\n                <li v-for=\"(bus, k) in stop.busArrival\" :key=\"k\">\n                  {{ bus.PlateNumb }}{{ bus.VehicleType }}\n                </li>\n              </ul>\n            </b>\n          </li>\n        </ul>\n      </div>\n    </section>\n    <section class=\"w70 h100\">\n      <Map\n        class=\"w100 h100\"\n        mapId=\"mapBear\"\n        lat=\"22.997572\"\n        lon=\"120.196029\"\n      ></Map>\n    </section>\n  </div>\n</template>\n<script>\nimport getTdxData from \"@/mixins/getTdxData\";\nimport Map from \"@/components/Map.vue\";\nexport default {\n  data() {\n    return {\n      routes: [],\n      routesByKeywords: [],\n      stopsOfTheRoute: [],\n      cityOfRoute: \"\",\n      routeName: \"\",\n      vehicleOfTaiwan: [],\n      cityList: [],\n      vechile: \"\",\n    };\n  },\n  components: { Map },\n  mixins: [getTdxData],\n  methods: {\n    consoleLogHaHa(e) {\n      console.log(e.target.value);\n      console.log(e.target[\"data-value\"]);\n      console.log(e);\n    },\n    filterVehicleByKeywords(plateNumb) {\n      this.vechile = this.vehicleOfTaiwan.find((vechile) => {\n        console.log(\"vechile\");\n        if (vechile) {\n          return vechile.PlateNumb === plateNumb;\n        }\n      });\n    },\n    filterRouteByKeywords(routeName) {\n      this.routesByKeywords = [];\n      let _this = this;\n      let reg = new RegExp(routeName);\n      this.routes.forEach(function (route) {\n        if (\n          reg.test(route.RouteName.Zh_tw + \"*\") ||\n          reg.test(route.DepartureStopNameZh + \"*\") ||\n          reg.test(route.DestinationStopNameZh + \"*\")\n        ) {\n          _this.routesByKeywords.push(route);\n        }\n      });\n    },\n    async setRouteCityAndNameForGetStops(\n      cityOfRoute,\n      routeName,\n      RouteUID,\n      DepartureStopNameZh,\n      DestinationStopNameZh\n    ) {\n      this.cityOfRoute = cityOfRoute;\n      this.routeName = routeName;\n\n      let _this = this;\n      // let stopsOfTheRoute = [];\n      this.stopsOfTheRoute =\n        await _this.sortRealTimeNearStopAndEstimatedTimeByStopsOfTheRoute(\n          this.vehicleOfTaiwan,\n          cityOfRoute,\n          routeName,\n          RouteUID\n        );\n      _this.stopsOfTheRoute.DepartureStopNameZh = DepartureStopNameZh;\n      _this.stopsOfTheRoute.DestinationStopNameZh = DestinationStopNameZh;\n    },\n  },\n  async created() {\n    var _this = this;\n    (async function () {\n        _this.cityList = await _this.getCityList();\n        _this.routes = await _this.getRoutesOfTaiwan(await _this.cityList);\n        _this.vehicleOfTaiwan = await _this.getVehicleOfTaiwan(\n          await _this.cityList\n        );\n        await _this.setRouteCityAndNameForGetStops(\n          _this.$route.query.City,\n          _this.$route.query.RouteName,\n          _this.$route.query.RouteUID,\n          _this.$route.query.DepartureStopNameZh,\n          _this.$route.query.DestinationStopNameZh\n        );\n      })();\n  },\n};\n</script>\n<style lang=\"scss\">\n@import \"@/assets/style/scss/_main.scss\";\n</style>","import { render } from \"./RouteDetail.vue?vue&type=template&id=347e7267\"\nimport script from \"./RouteDetail.vue?vue&type=script&lang=js\"\nexport * from \"./RouteDetail.vue?vue&type=script&lang=js\"\n\nimport \"./RouteDetail.vue?vue&type=style&index=0&id=347e7267&lang=scss\"\n\nimport exportComponent from \"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/taiwan_bus/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./RouteDetail.vue?vue&type=style&index=0&id=347e7267&lang=scss\""],"sourceRoot":""}